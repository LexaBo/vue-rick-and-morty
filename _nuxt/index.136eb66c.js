import{h as T,i as $,j as L,k as m,d as V,_ as G,o,a as P,w as F,v as x,e as r,l as M,m as q,p as I,n as A,q as J,c as w,s as b,f as p,b as d,t as U,x as D,F as B,r as H,y as E,z as K,A as O,B as Q}from"./entry.cbf9b055.js";import{_ as W}from"./Loader.f9b91334.js";const z=T("FilterStore",()=>{const e=$(""),t=$(""),n=$("");return{filtersName:e,filtersStatus:t,filtersGender:n,setFilters:s=>{e.value=s.filtersName,t.value=s.filtersStatus,n.value=s.filtersGender}}}),R=T("charactersGridStore",()=>{const e=$([]),t=$(""),n=$(1),i=$(1),{filtersName:s,filtersStatus:_,filtersGender:a}=L(z());return{characters:e,getCharacters:()=>{const c=m(s)?`&name=${m(s)}`:"",u=m(_)?`&status=${m(_)}`:"",f=m(a)?`&gender=${m(a)}`:"";t.value="loading",fetch(`https://rickandmortyapi.com/api/character?page=${m(n)}${c}${u}${f}`.replace(/\s/g,"")).then(l=>l.ok?l.json():Promise.reject(l)).then(l=>{e.value=l.results,i.value=l.info.pages,t.value="loaded"}).catch(()=>{t.value="error"})},setCharactersActivePage:c=>{n.value=c},charactersLoadingStatus:t,activePageNumber:n,totalPage:i}}),X=V({name:"Filters",setup(){const{setCharactersActivePage:e}=R(),t=z(),n=$(""),i=$(""),s=$("");return{characterGender:n,characterStatus:i,characterName:s,onSubmitFilters:()=>{t.setFilters({filtersName:m(s),filtersStatus:m(i),filtersGender:m(n)}),e(1)}}}});const C=e=>(I("data-v-47d2aa1b"),e=e(),A(),e),Y=C(()=>r("label",{class:"filters__label",for:"characterName"},"name",-1)),Z=C(()=>r("label",{class:"filters__label",for:"characterStatus"},"status",-1)),ee=C(()=>r("option",{value:""},"all",-1)),te=C(()=>r("option",{value:"alive"},"alive",-1)),ae=C(()=>r("option",{value:"dead"},"dead",-1)),oe=C(()=>r("option",{value:"unknown"},"unknown",-1)),ne=[ee,te,ae,oe],se=C(()=>r("label",{class:"filters__label",for:"characterGender"},"gender",-1)),re=J('<option value="" data-v-47d2aa1b>all</option><option value="female" data-v-47d2aa1b>female</option><option value="male" data-v-47d2aa1b>male</option><option value="genderless" data-v-47d2aa1b>genderless</option><option value="unknown" data-v-47d2aa1b>unknown</option>',5),ie=[re],ce=C(()=>r("button",{class:"filters__btn",type:"submit"},"Search",-1));function le(e,t,n,i,s,_){return o(),P("form",{onSubmit:t[3]||(t[3]=q((...a)=>e.onSubmitFilters&&e.onSubmitFilters(...a),["prevent"])),class:"filters"},[Y,F(r("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>e.characterName=a),class:"filters__field",id:"characterName",name:"name"},null,512),[[x,e.characterName]]),Z,F(r("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>e.characterStatus=a),class:"filters__field",id:"characterStatus",name:"status"},ne,512),[[M,e.characterStatus]]),se,F(r("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>e.characterGender=a),class:"filters__field",id:"characterGender",name:"gender"},ie,512),[[M,e.characterGender]]),ce],32)}const de=G(X,[["render",le],["__scopeId","data-v-47d2aa1b"]]),ue={viewBox:"0 0 8 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_e=d("path",{d:"M2.24 1c0 .556-.445 1-1 1-.556 0-1-.444-1-1s.444-1 1-1c.555 0 1 .444 1 1zm5.333 0c0 .556-.444 1-1 1-.555 0-1-.444-1-1s.445-1 1-1c.556 0 1 .444 1 1z",fill:"#BBB"},null,-1);function pe(e,t){return o(),p("svg",ue,[_e])}var y=V({name:"VPage",components:{IconPaginationDots:pe},props:{page:{type:Number,default:null},current:{type:Number,default:0},activeColor:{type:String,default:"#DCEDFF"}},emits:["update"],setup(e,{emit:t}){const n=w(()=>e.page===e.current);function i(){t("update",e.page)}return{isActive:n,clickHandler:i}}});const ge=E();I("data-v-060ca318");const he={key:0,class:"DotsHolder"};A();const me=ge((e,t,n,i,s,_)=>{const a=b("icon-pagination-dots");return o(),p("li",null,[e.page===null?(o(),p("span",he,[d(a,{class:"Dots"})])):(o(),p("button",{key:1,class:["Page",{"Page-active":e.isActive}],type:"button","aria-label":`Go to page ${e.page}`,style:`background-color: ${e.isActive?e.activeColor:"transparent"};`,onClick:t[1]||(t[1]=(...g)=>e.clickHandler&&e.clickHandler(...g))},U(e.page),15,["aria-label"]))])});y.render=me;y.__scopeId="data-v-060ca318";y.__file="src/components/atoms/VPage.vue";const ve={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},fe=d("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6 1.41-1.41M6 6h2v12H6V6z"},null,-1);function $e(e,t){return o(),p("svg",ve,[fe])}const Ce={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Se=d("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6-1.41 1.41M16 6h2v12h-2V6z"},null,-1);function Pe(e,t){return o(),p("svg",Ce,[Se])}const be={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},we=d("path",{d:"M15.41 16.58L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.42z"},null,-1);function ke(e,t){return o(),p("svg",be,[we])}const Ve={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},ye=d("path",{d:"M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"},null,-1);function Ne(e,t){return o(),p("svg",Ve,[ye])}var N=V({name:"VPagination",components:{IconPageFirst:$e,IconChevronLeft:ke,IconChevronRight:Ne,IconPageLast:Pe,VPage:y},props:{pages:{type:Number,default:0},rangeSize:{type:Number,default:1},modelValue:{type:Number,default:0},activeColor:{type:String,default:"#DCEDFF"},hideFirstButton:{type:Boolean,default:!1},hideLastButton:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=w(()=>{const u=[],f=5+e.rangeSize*2;let l=e.pages<=f?1:e.modelValue-e.rangeSize,S=e.pages<=f?e.pages:e.modelValue+e.rangeSize;if(S=S>e.pages?e.pages:S,l=l<1?1:l,e.pages>f){const k=l-1<3,j=e.pages-S<3;if(k){S=f-2;for(let h=1;h<l;h++)u.push(h)}else u.push(1),u.push(null);if(j){l=e.pages-(f-3);for(let h=l;h<=e.pages;h++)u.push(h)}else{for(let h=l;h<=S;h++)u.push(h);u.push(null),u.push(e.pages)}}else for(let k=l;k<=S;k++)u.push(k);return u});function i(u){t("update:modelValue",u)}const s=w(()=>e.modelValue>1),_=w(()=>e.modelValue<e.pages);function a(){s.value&&t("update:modelValue",1)}function g(){s.value&&t("update:modelValue",e.modelValue-1)}function v(){_.value&&t("update:modelValue",e.pages)}function c(){_.value&&t("update:modelValue",e.modelValue+1)}return{pagination:n,updatePageHandler:i,isPrevControlsActive:s,isNextControlsActive:_,goToFirst:a,goToLast:v,goToPrev:g,goToNext:c}}});const Fe=E();I("data-v-2a30deb0");const Le={class:"Pagination"},Be={key:0,class:"PaginationControl"},Ge={class:"PaginationControl"},Ie={class:"PaginationControl"},Ae={key:1,class:"PaginationControl"};A();const ze=Fe((e,t,n,i,s,_)=>{const a=b("icon-page-first"),g=b("icon-chevron-left"),v=b("v-page"),c=b("icon-chevron-right"),u=b("icon-page-last");return o(),p("ul",Le,[e.hideFirstButton?D("v-if",!0):(o(),p("li",Be,[d(a,{class:["Control",{"Control-active":e.isPrevControlsActive}],onClick:e.goToFirst},null,8,["class","onClick"])])),d("li",Ge,[d(g,{class:["Control",{"Control-active":e.isPrevControlsActive}],onClick:e.goToPrev},null,8,["class","onClick"])]),(o(!0),p(B,null,H(e.pagination,f=>(o(),p(v,{key:`pagination-page-${f}`,page:f,current:e.modelValue,"active-color":e.activeColor,onUpdate:e.updatePageHandler},null,8,["page","current","active-color","onUpdate"]))),128)),d("li",Ie,[d(c,{class:["Control",{"Control-active":e.isNextControlsActive}],onClick:e.goToNext},null,8,["class","onClick"])]),e.hideLastButton?D("v-if",!0):(o(),p("li",Ae,[d(u,{class:["Control",{"Control-active":e.isNextControlsActive}],onClick:e.goToLast},null,8,["class","onClick"])]))])});N.render=ze;N.__scopeId="data-v-2a30deb0";N.__file="src/components/VPagination.vue";const Me=V({name:"CharactersGrid",components:{VPagination:N},setup(){const e=R(),{activePageNumber:t,totalPage:n}=L(e),{filtersName:i,filtersStatus:s,filtersGender:_}=L(z()),a=w(()=>e.charactersLoadingStatus==="loading"),g=w(()=>e.charactersLoadingStatus==="loaded"),v=t,c=()=>{e.setCharactersActivePage(m(v))};return K([i,s,_,v],()=>{e.getCharacters()},{immediate:!0}),{charactersGridStore:e,isLoading:a,isLoaded:g,activePage:v,totalPage:n,onUpdatePage:c}}});const De={class:"characters-grid"},Te={class:"characters-grid__list"},Ue={class:"characters-grid-item__image-container"},He=["src"],Ee={class:"characters-grid-item__name"},Re={key:2,class:"characters-grid__nothing-found"};function je(e,t,n,i,s,_){const a=Q,g=b("v-pagination"),v=W;return o(),P("div",De,[e.isLoaded?(o(),P(B,{key:0},[r("ul",Te,[(o(!0),P(B,null,H(e.charactersGridStore.characters,c=>(o(),P("li",{key:c.id},[d(a,{to:`/character/${c.id}`,class:"characters-grid-item__link"},{default:O(()=>[r("div",Ue,[r("img",{class:"characters-grid-item__image",src:c.image,alt:"character"},null,8,He)]),r("h3",Ee,U(c.name),1)]),_:2},1032,["to"])]))),128))]),d(g,{modelValue:e.activePage,"onUpdate:modelValue":[t[0]||(t[0]=c=>e.activePage=c),e.onUpdatePage],pages:e.totalPage,"range-size":1,hideFirstButton:!0,hideLastButton:!0},null,8,["modelValue","pages","onUpdate:modelValue"])],64)):e.isLoading?(o(),p(v,{key:1})):(o(),P("h5",Re," Nothing found "))])}const xe=G(Me,[["render",je],["__scopeId","data-v-c64af1e2"]]),qe=V({name:"MainPage"});const Je={class:"main-page"},Ke={class:"main-page__columns"},Oe={class:"main-page__column"},Qe={class:"main-page__column"};function We(e,t,n,i,s,_){const a=de,g=xe;return o(),P("div",Je,[r("div",Ke,[r("div",Oe,[d(a)]),r("div",Qe,[d(g)])])])}const Ze=G(qe,[["render",We],["__scopeId","data-v-47b26736"]]);export{Ze as default};
